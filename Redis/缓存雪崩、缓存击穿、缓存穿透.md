# 前言

Redis ，是基于内存的数据库，我们常将其做为缓存，在数据访问时，达到更高的性能。那么当使用Redis做为缓存的时候，会出现哪些问题呢？接下来我们一起看看。

# 缓存雪崩

缓存雪崩：大量缓存在一起失效，导致大量请求到数据库上，从而导致数据库宕机。因为本来请求是请求到缓存上的，但是当缓存失效的时候，大量的请求都落在数据库上。

解决方案：

1. 设置不同的过期时间，给缓存设置过期时间的时候，设置不同的过期时间，比如过期时间上加上一个随机时间（一分钟到十分钟）。这样就不会造成大量缓存一起失效了。
2. 设置缓存不过期，这样也不会造成缓存失效，但是会造成缓存数据的加大。

# 缓存穿透

缓存穿透：数据库中没有这条数据，缓存中也没有这条数据，所以导致请求一直在请求，但是没有数据返回。当大量的请求到数据库中，从而导致宕机。

解决方案：

1. 布隆过滤器：判断改请求的数据，数据库中会不会有，会有的话再发起请求。
2. 返回 null 或空值，当数据库和缓存都没有这条数据时，可以返回 null 或空值。
3. 校验请求：防止是黑客攻击网站，通过判断请求的参数、路径等等是否符合规定，以免黑客故意发起没有数据的请求



# 总结

三种缓存常见问题：缓存雪崩、缓存击穿、缓存穿透。都是我们平时在使用缓存的时候需要注意的点。





